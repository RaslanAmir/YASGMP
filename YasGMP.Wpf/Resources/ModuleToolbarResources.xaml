<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:conv="clr-namespace:YasGMP.Wpf.Converters">

  <!-- Converter that resolves DynamicResource keys stored in the view-model to strings -->
  <conv:ResourceStringConverter x:Key="ResourceString" />

  <!--
    Shared toolbar item template for module toolbars (SAP B1 style).
    Expects items of type ModuleToolbarCommand.
  -->
  <DataTemplate x:Key="ModuleToolbarToggleButtonTemplate">
    <ToggleButton
        Content="{Binding CaptionKey, Converter={StaticResource ResourceString}}"
        Command="{Binding Command}"
        IsChecked="{Binding IsChecked}"
        IsEnabled="{Binding IsEnabled}"
        Margin="0,0,4,0"
        AutomationProperties.Name="{Binding AutomationNameKey, Converter={StaticResource ResourceString}}"
        AutomationProperties.AutomationId="{Binding AutomationIdKey}">
      <ToggleButton.ToolTip>
        <!-- Bind to ToolTipKey and resolve to localized string; avoid binding to non-existent 'ToolTip' property -->
        <ToolTip Content="{Binding ToolTipKey, Converter={StaticResource ResourceString}}" />
      </ToggleButton.ToolTip>
    </ToggleButton>
  </DataTemplate>

</ResourceDictionary>

