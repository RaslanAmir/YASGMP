<Window x:Class="YasGMP.Wpf.Views.LoginView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:YasGMP.Wpf.Converters"
        Title="YasGMP Login"
        Width="420"
        Height="320"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        WindowStyle="ToolWindow"
        ShowInTaskbar="False">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <conv:StringNullOrEmptyToVisibilityConverter x:Key="ErrorVisibilityConverter" />
    </Window.Resources>
    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <TextBlock Text="Sign in to YasGMP"
                   FontSize="18"
                   FontWeight="Bold"
                   Margin="0,0,0,8" />

        <StackPanel Grid.Row="1" Margin="0,12,0,0">
            <TextBlock Text="Username" FontWeight="SemiBold" />
            <TextBox Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                     Margin="0,4,0,0"
                     MinWidth="200"
                     AutomationProperties.AutomationId="LoginUsername" />
        </StackPanel>

        <StackPanel Grid.Row="2" Margin="0,12,0,0">
            <TextBlock Text="Password" FontWeight="SemiBold" />
            <PasswordBox Margin="0,4,0,0"
                         MinWidth="200"
                         PasswordChanged="OnPasswordChanged"
                         KeyDown="OnPasswordBoxKeyDown"
                         AutomationProperties.AutomationId="LoginPassword" />
        </StackPanel>

        <TextBlock Grid.Row="3" Margin="0,12,0,0"
                   Text="{Binding ErrorMessage}"
                   Foreground="Red"
                   TextWrapping="Wrap"
                   Visibility="{Binding ErrorMessage, Converter={StaticResource ErrorVisibilityConverter}}" />

        <ProgressBar Grid.Row="4" Margin="0,12,0,0"
                     Height="4"
                     Minimum="0"
                     Maximum="1"
                     IsIndeterminate="True"
                     Visibility="{Binding IsBusy, Converter={StaticResource BooleanToVisibilityConverter}}" />

        <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="12" Margin="0,12,0,0">
            <Button Content="Cancel"
                    Width="80"
                    IsCancel="True"
                    Command="{Binding CancelCommand}" />
            <Button Content="Sign In"
                    Width="100"
                    IsDefault="True"
                    Command="{Binding LoginCommand}" />
        </StackPanel>
    </Grid>
</Window>
